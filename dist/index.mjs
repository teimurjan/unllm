var T={invisible:!0,spaces:!0,dashes:!1,ellipsis:!1},J=[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","　"],K={"–":"-","—":"-","−":"-","­":""},W=[0,1,2,3,4,5,6,7,8,11,12,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,8203,8204,8206,8207,8288,8289,8290,8291,8292,65279],Q=(q)=>{let b=q.codePointAt(0);if(!b)return!1;return b>=128512&&b<=128591||b>=127744&&b<=128511||b>=128640&&b<=128767||b>=128768&&b<=128895||b>=128896&&b<=129023||b>=129024&&b<=129279||b>=129280&&b<=129535||b>=129536&&b<=129647||b>=129648&&b<=129791||b>=9728&&b<=9983||b>=9984&&b<=10175||b>=65024&&b<=65039||b>=127462&&b<=127487||b>=127995&&b<=127999},Z=(q)=>Array.from(q).some((b)=>{let k=b.codePointAt(0);if(!k)return!1;return k>=128512&&k<=128591||k>=127744&&k<=128511||k>=128640&&k<=128767||k>=128768&&k<=128895||k>=128896&&k<=129023||k>=129024&&k<=129279||k>=129280&&k<=129535||k>=129536&&k<=129647||k>=129648&&k<=129791||k>=9728&&k<=9983||k>=9984&&k<=10175||k>=127462&&k<=127487}),$=(q,b)=>{let k=q.codePointAt(0);if(k===void 0)return!1;if(Q(q))return!1;if(b.invisible){if(W.includes(k))return!0;if(k===8205)return!Q(q)}if(b.spaces&&J.includes(q))return!0;if(b.dashes&&q in K)return!0;if(b.ellipsis&&k===8230)return!0;return!1},y=(q,b)=>{if(b>=0&&b<=31){if(b===0)return{type:"control",name:"NULL"};if(b===8)return{type:"control",name:"BACKSPACE"};if(b===11)return{type:"control",name:"VERTICAL TAB"};if(b===12)return{type:"control",name:"FORM FEED"};return{type:"control",name:`CONTROL_${b.toString(16).toUpperCase()}`}}if(b>=127&&b<=159){if(b===127)return{type:"control",name:"DELETE"};return{type:"control",name:`CONTROL_${b.toString(16).toUpperCase()}`}}if(b===8203)return{type:"invisible",name:"ZERO WIDTH SPACE"};if(b===8204)return{type:"invisible",name:"ZERO WIDTH NON-JOINER"};if(b===8205)return{type:"invisible",name:"ZERO WIDTH JOINER"};if(b===8206)return{type:"invisible",name:"LEFT-TO-RIGHT MARK"};if(b===8207)return{type:"invisible",name:"RIGHT-TO-LEFT MARK"};if(b===8288)return{type:"invisible",name:"WORD JOINER"};if(b===8289)return{type:"invisible",name:"FUNCTION APPLICATION"};if(b===8290)return{type:"invisible",name:"INVISIBLE TIMES"};if(b===8291)return{type:"invisible",name:"INVISIBLE SEPARATOR"};if(b===8292)return{type:"invisible",name:"INVISIBLE PLUS"};if(b===65279)return{type:"invisible",name:"ZERO WIDTH NO-BREAK SPACE (BOM)"};if(J.includes(q)){if(b===160)return{type:"typography",name:"NO-BREAK SPACE"};if(b===8239)return{type:"typography",name:"NARROW NO-BREAK SPACE"};return{type:"typography",name:"UNICODE SPACE"}}if(q in K){if(b===8211)return{type:"typography",name:"EN DASH"};if(b===8212)return{type:"typography",name:"EM DASH"};if(b===8722)return{type:"typography",name:"MINUS SIGN"};if(b===173)return{type:"typography",name:"SOFT HYPHEN"}}return{type:"typography",name:`U+${b.toString(16).toUpperCase().padStart(4,"0")}`}},B=(q,b={})=>{let k={...T,...b},v=[];return Array.from(q).forEach((F,w)=>{if($(F,k)){let G=F.codePointAt(0),{type:X,name:Y}=y(F,G);v.push({char:F,code:G,hex:`U+${G.toString(16).toUpperCase().padStart(4,"0")}`,position:w,type:X,name:Y})}}),v},L=(q,b={})=>{let k={...T,...b},v=q,F=Z(q);if(k.invisible){if(W.forEach((w)=>{if(w===8205&&F)return;v=v.replaceAll(String.fromCodePoint(w),"")}),!F)v=v.replaceAll("‍","")}if(k.spaces)J.forEach((w)=>{v=v.replaceAll(w," ")});if(k.dashes)Object.entries(K).forEach(([w,G])=>{v=v.replaceAll(w,G)});if(k.ellipsis)v=v.replaceAll("…","...");return v};export{B as inspect,L as clean};
